{"remainingRequest":"/home/developer/Documents/SIUA/frontend/node_modules/babel-loader/lib/index.js!/home/developer/Documents/SIUA/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/developer/Documents/SIUA/frontend/src/components/requests/update/UpdateRequestA.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/developer/Documents/SIUA/frontend/src/components/requests/update/UpdateRequestA.vue","mtime":1545321402164},{"path":"/home/developer/Documents/SIUA/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1538083629208},{"path":"/home/developer/Documents/SIUA/frontend/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/home/developer/Documents/SIUA/frontend/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/developer/Documents/SIUA/frontend/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport Multiselect from 'vue-multiselect';\nimport Vuex from 'vuex';\nimport { axios } from '../../../helpers/axios';\nimport { required } from 'vuelidate/lib/validators';\nimport CreatePerson from '../../persons/CreatePersonModal.vue';\nimport CreateClause from '../../clauses/CreateClauseModal.vue';\nvar API_IP = process.env.VUE_APP_API_IP;\nvar mapActions = Vuex.mapActions,\n    mapState = Vuex.mapState,\n    mapGetters = Vuex.mapGetters;\nimport router from '../../../router';\nVue.use(Vuex);\nvar store = new Vuex.Store({\n  state: {\n    profesores: [],\n    contratistas: [],\n    planta: [],\n    interventorStore: {},\n    contratistaStore: {},\n    responsableStore: {},\n    valuex: \"\",\n    valuey: \"\",\n    allpersonas: [],\n    personasInterventor: [],\n    personasContratista: [],\n    personasResponsable: [],\n    personasInterventorOriginal: [],\n    personasContratistaOriginal: [],\n    personasResponsableOriginal: [],\n    clauses: [],\n    causals: [],\n    types_request: [],\n    request_data: {}\n  },\n  actions: {\n    loadData: function loadData(_ref) {\n      var commit = _ref.commit;\n      axios.get(API_IP + \"/person/\").then(function (response) {\n        var personas = [];\n\n        for (var k in response.data.data) {\n          var person = {};\n          person[\"_id\"] = response.data.data[k]._id;\n          person[\"nombre\"] = response.data.data[k].primer_nombre + \" \" + response.data.data[k].segundo_nombre + \" \" + response.data.data[k].primer_apellido + \" \" + response.data.data[k].segundo_apellido;\n          personas.push(person);\n        }\n\n        commit('loadPersonas', personas);\n        axios.get(API_IP + \"/person/\", {\n          params: \"profesor\"\n        }).then(function (response) {\n          var profesores = [];\n\n          for (var k in response.data.data) {\n            var profesor = {};\n            profesor[\"_id\"] = response.data.data[k]._id;\n            profesor[\"nombre\"] = response.data.data[k].primer_nombre + \" \" + response.data.data[k].segundo_nombre + \" \" + response.data.data[k].primer_apellido + \" \" + response.data.data[k].segundo_apellido;\n            profesores.push(profesor);\n          }\n\n          commit('loadProfesores', profesores);\n          axios.get(API_IP + \"/person/\", {\n            params: \"contratista\"\n          }).then(function (response) {\n            var contratistas = [];\n\n            for (var k in response.data.data) {\n              var contratista = {};\n              contratista[\"_id\"] = response.data.data[k]._id;\n              contratista[\"nombre\"] = response.data.data[k].primer_nombre + \" \" + response.data.data[k].segundo_nombre + \" \" + response.data.data[k].primer_apellido + \" \" + response.data.data[k].segundo_apellido;\n              contratistas.push(contratista);\n            }\n\n            commit('loadContratistas', contratistas);\n            axios.get(API_IP + \"/person/\", {\n              params: \"planta\"\n            }).then(function (response) {\n              var plantas = [];\n\n              for (var k in response.data.data) {\n                var planta = {};\n                planta[\"_id\"] = response.data.data[k]._id;\n                planta[\"nombre\"] = response.data.data[k].primer_nombre + \" \" + response.data.data[k].segundo_nombre + \" \" + response.data.data[k].primer_apellido + \" \" + response.data.data[k].segundo_apellido;\n                plantas.push(planta);\n              }\n\n              commit('loadPlanta', plantas);\n              axios.get(API_IP + \"/clause/\").then(function (response) {\n                var clauses = [];\n\n                for (var k in response.data.data) {\n                  var clause = {};\n                  clause[\"_id\"] = response.data.data[k]._id;\n                  clause[\"nombre\"] = response.data.data[k].nombre;\n                  clauses.push(clause);\n                }\n\n                axios.get(API_IP + '/request/' + router.currentRoute.params.id).then(function (response) {\n                  var request_data = response.data.data;\n\n                  for (var k in request_data.trabajadores) {\n                    var trabajador = {};\n\n                    if (request_data.trabajadores[k].tipo == \"Interventor\") {\n                      trabajador[\"_id\"] = request_data.trabajadores[k].persona._id;\n                      trabajador[\"nombre\"] = request_data.trabajadores[k].persona.primer_nombre + \" \" + request_data.trabajadores[k].persona.segundo_nombre + \" \" + request_data.trabajadores[k].persona.primer_apellido + \" \" + request_data.trabajadores[k].persona.segundo_apellido;\n                      commit('loadInterventor', trabajador);\n                    } else if (request_data.trabajadores[k].tipo == \"Contratista\") {\n                      trabajador[\"_id\"] = request_data.trabajadores[k].persona._id;\n                      trabajador[\"nombre\"] = request_data.trabajadores[k].persona.primer_nombre + \" \" + request_data.trabajadores[k].persona.segundo_nombre + \" \" + request_data.trabajadores[k].persona.primer_apellido + \" \" + request_data.trabajadores[k].persona.segundo_apellido;\n                      commit('loadContratista', trabajador);\n                    } else if (request_data.trabajadores[k].tipo == \"Responsable\") {\n                      trabajador[\"_id\"] = request_data.trabajadores[k].persona._id;\n                      trabajador[\"nombre\"] = request_data.trabajadores[k].persona.primer_nombre + \" \" + request_data.trabajadores[k].persona.segundo_nombre + \" \" + request_data.trabajadores[k].persona.primer_apellido + \" \" + request_data.trabajadores[k].persona.segundo_apellido;\n                      commit('loadResponsable', trabajador);\n                    }\n                  }\n\n                  commit('loadRequestData', response.data.data);\n                  commit('loadClauses', clauses);\n                  axios.get(API_IP + \"/causalSelection/\").then(function (response) {\n                    var causals = [];\n\n                    for (var k in response.data.data) {\n                      var causal = {};\n                      causal[\"_id\"] = response.data.data[k]._id;\n                      causal[\"nombre\"] = response.data.data[k].nombre;\n                      causals.push(causal);\n                    }\n\n                    commit('loadCausals', causals);\n                    axios.get(API_IP + \"/requesttype/\").then(function (response) {\n                      var types_request = [];\n\n                      for (var k in response.data.data) {\n                        var type = {};\n                        type[\"_id\"] = response.data.data[k]._id;\n                        type[\"nombre\"] = response.data.data[k].nombre;\n                        types_request.push(type);\n                      }\n\n                      commit('loadTypesRequest', types_request);\n                    });\n                  });\n                });\n              });\n            });\n          });\n        });\n      });\n    },\n    updateValueXAction: function updateValueXAction(_ref2, valuex) {\n      var commit = _ref2.commit;\n      commit('updateValuex', valuex);\n    },\n    updateValueYAction: function updateValueYAction(_ref3, valuey) {\n      var commit = _ref3.commit;\n      commit('updateValuey', valuey);\n    },\n    updatePersonasInterventorAction: function updatePersonasInterventorAction(_ref4, interventorStore) {\n      var commit = _ref4.commit;\n      commit('updatePersonasInterventor', interventorStore);\n    },\n    updatePersonasContratistaAction: function updatePersonasContratistaAction(_ref5, contratistaStore) {\n      var commit = _ref5.commit;\n      commit('updatePersonasContratista', contratistaStore);\n    },\n    updatePersonasResponsableAction: function updatePersonasResponsableAction(_ref6, responsableStore) {\n      var commit = _ref6.commit;\n      commit('updatePersonasCargo', responsableStore);\n    }\n  },\n  getters: {\n    getRequestData: function getRequestData(state) {\n      return state.request_data;\n    }\n  },\n  mutations: {\n    loadInterventor: function loadInterventor(state, interventor) {\n      state.interventorStore = interventor;\n    },\n    loadContratista: function loadContratista(state, contratista) {\n      state.contratistaStore = contratista;\n    },\n    loadResponsable: function loadResponsable(state, responsable) {\n      state.responsableStore = responsable;\n    },\n    loadProfesores: function loadProfesores(state, profesores) {\n      state.profesores = profesores;\n    },\n    loadContratistas: function loadContratistas(state, contratistas) {\n      state.contratistas = contratistas;\n    },\n    loadPlanta: function loadPlanta(state, planta) {\n      state.planta = planta;\n      state.personasInterventorOriginal = state.profesores.concat(state.contratistas).concat(state.planta);\n      state.personasContratistaOriginal = state.contratistas;\n      state.personasResponsableOriginal = state.profesores.concat(state.contratistas).concat(state.planta);\n      state.personasInterventor = state.profesores.concat(state.contratistas).concat(state.planta);\n      state.personasContratista = state.contratistas;\n      state.personasResponsable = state.profesores.concat(state.contratistas).concat(state.planta);\n    },\n    loadClauses: function loadClauses(state, clauses) {\n      state.clauses = clauses;\n    },\n    loadCausals: function loadCausals(state, causals) {\n      state.causals = causals;\n    },\n    loadRequestData: function loadRequestData(state, request_data) {\n      state.request_data = request_data;\n    },\n    loadTypesRequest: function loadTypesRequest(state, types_request) {\n      state.types_request = types_request;\n    },\n    loadPersonas: function loadPersonas(state, personas) {\n      state.allpersonas = personas;\n      state.personasInterventor = personas;\n      state.personasContratista = personas;\n    },\n    updatePersonasInterventor: function updatePersonasInterventor(state, interventorStore) {\n      state.interventorStore = interventorStore != null ? interventorStore : \"\";\n      state.personasInterventor = state.personasInterventorOriginal.filter(function (person) {\n        return person._id != state.contratistaStore._id && person._id != state.responsableStore._id;\n      });\n      state.personasContratista = state.personasContratistaOriginal.filter(function (person) {\n        return person._id != state.interventorStore._id && person._id != state.responsableStore._id;\n      });\n      state.personasResponsable = state.personasResponsableOriginal.filter(function (person) {\n        return person._id != state.interventorStore._id && person._id != state.contratistaStore._id;\n      });\n    },\n    updatePersonasContratista: function updatePersonasContratista(state, contratistaStore) {\n      state.contratistaStore = contratistaStore != null ? contratistaStore : \"\";\n      state.personasInterventor = state.personasInterventorOriginal.filter(function (person) {\n        return person._id != state.contratistaStore._id && person._id != state.responsableStore._id;\n      });\n      state.personasContratista = state.personasContratistaOriginal.filter(function (person) {\n        return person._id != state.interventorStore._id && person._id != state.responsableStore._id;\n      });\n      state.personasResponsable = state.personasResponsableOriginal.filter(function (person) {\n        return person._id != state.interventorStore._id && person._id != state.contratistaStore._id;\n      });\n    },\n    updatePersonasCargo: function updatePersonasCargo(state, responsableStore) {\n      state.responsableStore = responsableStore != null ? responsableStore : \"\";\n      state.personasInterventor = state.personasInterventorOriginal.filter(function (person) {\n        return person._id != state.contratistaStore._id && person._id != state.responsableStore._id;\n      });\n      state.personasContratista = state.personasContratistaOriginal.filter(function (person) {\n        return person._id != state.interventorStore._id && person._id != state.responsableStore._id;\n      });\n      state.personasResponsable = state.personasResponsableOriginal.filter(function (person) {\n        return person._id != state.interventorStore._id && person._id != state.contratistaStore._id;\n      });\n    }\n  }\n});\nexport default {\n  props: ['stp'],\n  store: store,\n  components: {\n    Multiselect: Multiselect,\n    'create-person': CreatePerson,\n    'create-clause': CreateClause\n  },\n  data: function data() {\n    return {\n      interventoresSelect: \"\",\n      contratistasSelect: \"\",\n      interventor: {},\n      contratista: {},\n      person_charge: {},\n      start_request_date: \"\",\n      end_request_date: \"\",\n      total_days: \"\",\n      causal: {},\n      clausulas: [],\n      clausulas_request: [],\n      message: \"\",\n      tipo_solicitud: \"\",\n      trabajadores: [],\n      step: this.stp,\n      modal_show: false,\n      submitting: false,\n      correct_date: false\n    };\n  },\n  validations: {\n    tipo_solicitud: {\n      required: required\n    },\n    interventor: {\n      required: required\n    },\n    contratista: {\n      required: required\n    },\n    clausulas: {\n      required: required\n    },\n    start_request_date: {\n      required: required\n    },\n    end_request_date: {\n      required: required\n    },\n    causal: {\n      required: required\n    }\n  },\n  computed: _objectSpread({}, mapGetters(['getRequestData']), mapState(['personasInterventorOriginal', 'personasContratistaOriginal', 'personasResponsableOriginal', 'allpersonas', 'personasInterventor', 'valuex', 'valuey', 'contratistaStore', 'interventorStore', 'personasContratista', 'clauses', 'causals', 'types_request', 'personasResponsable', 'responsableStore', 'request_data'])),\n  watch: {\n    interventorStore: function interventorStore() {\n      this.interventor = this.$store.state.interventorStore;\n      this.$store.dispatch('updatePersonasInterventorAction', this.interventor);\n    },\n    contratistaStore: function contratistaStore() {\n      // this.$store.dispatch('updatePersonasInterventorAction',this.interventor)\n      this.contratista = this.$store.state.contratistaStore;\n    },\n    responsableStore: function responsableStore() {\n      // this.$store.dispatch('updatePersonasInterventorAction',this.interventor)\n      this.person_charge = this.$store.state.responsableStore;\n    },\n    getRequestData: function getRequestData(requestData) {\n      this.tipo_solicitud = requestData.tipo_solicitud;\n      this.start_request_date = requestData.fecha_inicio.substring(0, 10);\n      this.end_request_date = requestData.fecha_final.substring(0, 10); // Funcion para calcular el total de dias\n\n      var sd = new Date(this.start_request_date);\n      var ed = new Date(this.end_request_date);\n      sd.setDate(sd.getDate() + 1);\n      ed.setDate(ed.getDate() + 1);\n      var differentDays = Math.ceil(Math.abs(ed.getTime() - sd.getTime()) / (1000 * 3600 * 24));\n      this.total_days = differentDays + 1;\n      this.causal = requestData.causal_seleccion;\n      this.clausulas = requestData.clausulas; // Parametros usados en el padre\n\n      this.request_id = requestData._id;\n      this.request_url = \"/solicitudes/\" + requestData.tipo_solicitud.nombre.toLowerCase() + \"/\" + requestData._id;\n      this.request_type_url = \"/solicitudes/\" + requestData.tipo_solicitud.nombre.toLowerCase();\n      this.request_type = requestData.tipo_solicitud.nombre;\n      this.$emit('request_id', this.request_id);\n      this.$emit('request_url', this.request_url);\n      this.$emit('request_type', this.request_type);\n      this.$emit('request_type_url', this.request_type_url); // Parametros necesarios para el update genera\n\n      this.request_auditoria = requestData.auditoria;\n      this.request_state = requestData.estado;\n      this.request_number = requestData.numero_solicitud;\n      this.request_value = requestData.valor_solicitud;\n      this.$emit('request_value', this.request_value); // if(requestData.ciudad._id !== undefined && requestData.ciudad._id !== null){\n      //   this.request_city = requestData.ciudad._id\n      // }\n\n      this.request_justification = requestData.justificacion;\n      this.request_aditional_justification = requestData.justificacion_adicional;\n      this.request_objetivo = requestData.objetivo_general;\n      this.request_obligations = requestData.obligaciones_especificas;\n      this.request_especifications = requestData.especificaciones_tecnicas;\n      this.request_budget = requestData.rubros;\n      this.payment_amount = requestData.cantidad_pagos;\n      this.payment_type = requestData.tipo_pago;\n    }\n  },\n  methods: _objectSpread({}, mapActions(['getPersonas', 'updatePersonasInterventorAction', 'updatePersonasContratistaAction', 'updatePersonasResponsableAction']), {\n    changeEndRequestDate: function changeEndRequestDate() {\n      var sd = new Date(this.start_request_date);\n      var ed = new Date(this.end_request_date);\n\n      if (sd > ed) {\n        this.correct_date = true;\n        this.total_days = 0;\n      } else {\n        this.correct_date = false;\n        sd.setDate(sd.getDate() + 1);\n        ed.setDate(ed.getDate() + 1);\n        var differentDays = Math.ceil(Math.abs(ed.getTime() - sd.getTime()) / (1000 * 3600 * 24));\n        this.total_days = differentDays + 1;\n      }\n\n      this.changeTotalDays();\n    },\n    cancel: function cancel() {\n      var _this = this;\n\n      this.$v.$reset();\n      this.$swal({\n        title: 'Espere',\n        text: '¿Esta seguro que quiere cancelar la operación?',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Si',\n        cancelButtonText: 'No'\n      }).then(function (result) {\n        if (result.value) {\n          _this.$swal({\n            title: 'Cancelado',\n            type: 'success'\n          }).then(function (result) {\n            if (result.value) {\n              _this.$router.push({\n                name: 'showrequest',\n                params: {\n                  type: _this.request_type.toLowerCase(),\n                  id: _this.request_id\n                }\n              });\n            }\n          });\n        }\n      });\n    },\n    saveContinue: function saveContinue() {\n      var _this2 = this;\n\n      this.$v.$touch();\n\n      if (this.$v.$invalid) {\n        this.$swal({\n          title: 'Error!',\n          text: 'Debe llenar campos necesarios en el formulario',\n          type: 'error',\n          confirmButtonText: 'Cerrar'\n        });\n      } else {\n        this.submitting = true;\n\n        for (var k in this.clausulas) {\n          this.clausulas_request.push(this.clausulas[k]._id);\n        }\n\n        axios.put(API_IP + '/request/' + this.$route.params.id, {\n          // Parametros enviados por esta vista\n          tipo_solicitud: this.tipo_solicitud._id,\n          trabajadores: [{\n            persona: this.contratista._id,\n            tipo: \"Contratista\"\n          }, {\n            persona: this.interventor._id,\n            tipo: \"Interventor\"\n          }, {\n            persona: this.person_charge._id,\n            tipo: \"Responsable\"\n          }],\n          fecha_inicio: this.start_request_date,\n          fecha_final: this.end_request_date,\n          causal_seleccion: this.causal._id,\n          clausulas: this.clausulas_request,\n          // Parametros enviados para completar el update\n          auditoria: this.request_auditoria,\n          _id: this.request_id,\n          estado: this.request_state,\n          numero_solicitud: this.request_number,\n          valor_solicitud: this.request_value,\n          ciudad: this.request_city,\n          justificacion: this.request_justification,\n          justificacion_adicional: this.request_aditional_justification,\n          objetivo_general: this.request_objetivo,\n          especificaciones_tecnicas: this.request_especifications,\n          obligaciones_especificas: this.request_obligations,\n          rubros: this.request_budget,\n          cantidad_pagos: this.payment_amount,\n          tipo_pago: this.payment_type\n        }).then(function (response) {\n          console.log(response);\n\n          _this2.$swal({\n            title: 'Exito!',\n            text: 'Se creo la solicitud con exito.',\n            type: 'success',\n            confirmButtonText: 'Aceptar'\n          }).then(function (result) {\n            if (result.value) {\n              _this2.submitting = false;\n              _this2.step++;\n\n              _this2.$emit('nextStep', _this2.step);\n            }\n          });\n        }).catch(function (error) {\n          console.log(error);\n\n          _this2.$swal({\n            title: 'Error!',\n            text: error.response.data.error.msg,\n            type: 'error',\n            confirmButtonText: 'Cerrar'\n          });\n\n          _this2.submitting = false;\n        });\n      }\n    },\n    // Modal para la creación de personas\n    showModalCreatePerson: function showModalCreatePerson() {\n      this.modal_show = false;\n      this.$modal.show('create-person');\n    },\n    closeModalCreatePerson: function closeModalCreatePerson(value) {\n      this.modal_show = value;\n\n      if (this.modal_show === true) {\n        this.$modal.hide('create-person');\n      }\n    },\n    showModalCreateClause: function showModalCreateClause() {\n      this.modal_show = false;\n      this.$modal.show('create-clause');\n    },\n    closeModalCreateClause: function closeModalCreateClause(value) {\n      this.modal_show = value;\n\n      if (this.modal_show === true) {\n        this.$modal.hide('create-clause');\n      }\n    }\n  }),\n  created: function created() {\n    this.$store.dispatch('loadData');\n  }\n};",{"version":3,"sources":["UpdateRequestA.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-md-8 offset-md-2\" style=\"margin-bottom:50px;\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <button class=\"btn btn-primary\" type=\"button\" @click=\"cancel()\" style=\"background:#003e1e;border-color:#003e1e;\">\n              <font-awesome-icon icon=\"arrow-left\" size=\"lg\"></font-awesome-icon>\n            </button>\n          </div>\n        </div>\n        <div>&nbsp;</div>\n        <modal name=\"create-person\" :adaptive=\"true\" :scrollable=\"true\" width=\"50%\" height=\"auto\">\n          <create-person\n          :hide_modal=\"modal_show\"\n          @modalShow=\"closeModalCreatePerson\"\n          ></create-person>\n        </modal>\n        <modal name=\"create-clause\" :adaptive=\"true\" :scrollable=\"true\" width=\"50%\" height=\"auto\">\n          <create-clause\n          :hide_modal=\"modal_show\"\n          @modalShow=\"closeModalCreateClause\"\n          ></create-clause>\n        </modal>\n        <div class=\"row justify-content-center\">\n          <div class=\"col-10 align-self-center\">\n            <form v-on:submit.prevent=\"saveContinue\" novalidate>\n              <div class=\"form-group\" :class=\"{ 'form-group--error': $v.tipo_solicitud.$error }\">\n                <div class=\"row\">\n                  <div class=\"col\">\n                    <label for=\"request_type\">Seleccione tipo de solicitud:</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <input type=\"text\" class=\"form-control\" id=\"request_type\" aria-describedby=\"request_type\" :placeholder=\"tipo_solicitud.nombre\" disabled>\n                    <div class=\"alert alert-danger\" role=\"alert\" v-if=\"$v.tipo_solicitud.$dirty && !$v.tipo_solicitud.required\">Es requerido un tipo de solicitud</div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-group\" :class=\"{ 'form-group--error': $v.interventor.$error }\">\n                <div class=\"row\">\n                  <div class=\"col\">\n                    <label for=\"interventors\">Seleccione interventor:</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <multiselect id=\"\" v-model.trim=\"$v.interventor.$model\" :options=\"personasInterventor\" :value=\"interventorStore\" track-by=\"_id\" label=\"nombre\" :searchable=\"false\" :close-on-select=\"true\" :show-labels=\"true\" placeholder=\"Escoja un interventor\"  @input=\"updatePersonasInterventorAction\">\n                    </multiselect>\n                    <div class=\"alert alert-danger\" role=\"alert\" v-if=\"$v.interventor.$dirty && !$v.interventor.required\">Es requerido un interventor</div>\n                  </div>\n                  <div class=\"col\">\n                    <button class=\"btn btn-primary\" type=\"button\" @click=\"showModalCreatePerson()\" style=\"background:#003e1e;border-color:#003e1e;\">\n                      <font-awesome-icon icon=\"pencil-alt\" size=\"lg\"></font-awesome-icon>\n                      Crear Nuevo\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-group\" :class=\"{ 'form-group--error': $v.contratista.$error }\">\n                <div class=\"row\">\n                  <div class=\"col\">\n                    <label for=\"contratistas\">Seleccione contratista:</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <multiselect id=\"box2\" v-model.trim=\"$v.contratista.$model\" :options=\"personasContratista\" :value=\"contratistaStore\" track-by=\"_id\" label=\"nombre\" :searchable=\"false\" :close-on-select=\"true\" :show-labels=\"true\" placeholder=\"Escoja un interventor\" @input=\"updatePersonasContratistaAction\">\n                    </multiselect>\n                    <div class=\"alert alert-danger\" role=\"alert\" v-if=\"$v.contratista.$dirty && !$v.contratista.required\">Es requerido un contratista</div>\n                  </div>\n                  <div class=\"col\">\n                    <button class=\"btn btn-primary\" type=\"button\" @click=\"showModalCreatePerson()\" style=\"background:#003e1e;border-color:#003e1e;\">\n                      <font-awesome-icon icon=\"pencil-alt\" size=\"lg\"></font-awesome-icon>\n                      Crear Nuevo\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <h3 style=\"color:#003e1e\"> Plazo </h3>\n              <div>&nbsp;</div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  <label for=\"startDate\">Fecha inicio:</label>\n                </div>\n                <div class=\"col-4\">\n                  <div class=\"form-group\" :class=\"{ 'form-group--error': $v.start_request_date.$error }\">\n                    <input type=\"date\" v-model.trim=\"$v.start_request_date.$model\" class=\"form-control\" id=\"startDate\" aria-describedby=\"startDate\">\n                    <div class=\"alert alert-danger\" role=\"alert\" v-if=\"$v.start_request_date.$dirty && !$v.start_request_date.required\">Es requerida una fecha de inicio</div>\n                  </div>\n                </div>\n                <div class=\"col\">\n                  <label for=\"endDate\">Fecha final:</label>\n                </div>\n                <div class=\"col-4\">\n                  <div class=\"form-group\" :class=\"{ 'form-group--error': $v.end_request_date.$error }\">\n                    <input type=\"date\" v-model.trim=\"$v.end_request_date.$model\" class=\"form-control\" id=\"endDate\" aria-describedby=\"endDate\" @input=\"changeEndRequestDate\">\n                    <div class=\"alert alert-danger\" role=\"alert\" v-if=\"$v.end_request_date.$dirty && !$v.end_request_date.required\">Es requerida una fecha final</div>\n                    <div class=\"alert alert-danger\" role=\"alert\" v-if=\"correct_date\">La fecha final no puede ser menor a la fecha de inicio</div>\n                  </div>\n                </div>\n              </div>\n              <div>&nbsp;</div>\n              <div class=\"form-group\">\n                <div class=\"row justify-content-center\">\n                  <div class=\"col-auto\">\n                    <label for=\"totalDays\">Total en dias:</label>\n                  </div>\n                  <div class=\"col-5\">\n                    <input type=\"text\" v-model=\"total_days\" class=\"form-control\" id=\"totalDays\" aria-describedby=\"totalDays\" placeholder=\"Total\" disabled>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-group\" :class=\"{ 'form-group--error': $v.causal.$error }\">\n                <div class=\"row justify-content-center\">\n                  <div class=\"col-auto\">\n                    <label for=\"selectionCausal\">Causal de selección:</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <multiselect v-model.trim=\"$v.causal.$model\" :options=\"causals\" track-by=\"_id\" label=\"nombre\" :searchable=\"false\" :close-on-select=\"true\" :show-labels=\"true\" placeholder=\"Causal\">\n                    </multiselect>\n                    <div class=\"alert alert-danger\" role=\"alert\" v-if=\"$v.causal.$dirty && !$v.causal.required\">Es requerido un causal de selección</div>\n                  </div>\n                </div>\n              </div>\n              <h3 style=\"color:#003e1e\"> Clausulas adicionales (marcar) </h3>\n              <div>&nbsp;</div>\n              <div class=\"row justify-content-center\">\n                <div class=\"col-6\">\n                  <div class=\"form-group\" :class=\"{ 'form-group--error': $v.clausulas.$error }\">\n                    <multiselect v-model.trim=\"$v.clausulas.$model\" :options=\"clauses\" :multiple=\"true\" :close-on-select=\"true\" :clear-on-select=\"false\" :hide-selected=\"true\" :preserve-search=\"true\" placeholder=\"Escoja las clausulas\" label=\"nombre\" track-by=\"_id\" :preselect-first=\"false\">\n                    </multiselect>\n                    <div class=\"alert alert-danger\" role=\"alert\" v-if=\"$v.clausulas.$dirty && !$v.clausulas.required\">Es requerida al menos una clausula</div>\n                  </div>\n                </div>\n                <div class=\"col-auto\">\n                  <button class=\"btn btn-primary\" type=\"button\" @click=\"showModalCreateClause()\" style=\"background:#003e1e;border-color:#003e1e;\">\n                    <font-awesome-icon icon=\"plus\" size=\"lg\"></font-awesome-icon>\n                    Adicionar otras\n                  </button>\n                </div>\n              </div>\n              <div>&nbsp;</div>\n              <h3 style=\"color:#003e1e; text-align:center;\"> Si tiene clausula de responsabilidad de bienes por favor seleccione el responsable de los bienes </h3>\n              <div>&nbsp;</div>\n              <div class=\"form-group\" >\n                <div class=\"row\">\n                  <div class=\"col\">\n                    <label for=\"interventors\">Personas a cargo:</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <multiselect v-model=\"person_charge\" :options=\"personasResponsable\" track-by=\"_id\" label=\"nombre\" :value=\"responsableStore\" :searchable=\"false\" :close-on-select=\"true\" :show-labels=\"true\" placeholder=\"Escoja un interventor\" @input=\"updatePersonasResponsableAction\">\n                    </multiselect>\n                  </div>\n                  <div class=\"col\">\n                    <button class=\"btn btn-primary\" type=\"button\" @click=\"showModalCreatePerson()\" style=\"background:#003e1e;border-color:#003e1e;\">\n                      <font-awesome-icon icon=\"pencil-alt\" size=\"lg\"></font-awesome-icon>\n                      Crear Nuevo\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div>&nbsp;</div>\n              <div class=\"row justify-content-center\">\n                <div class=\"col-3 text-center\">\n                  <button class=\"btn btn-primary\" type=\"submit\" :disabled=\"correct_date || submitting\" style=\"background:#003e1e;border-color:#003e1e;\">\n                    <font-awesome-icon icon=\"save\" size=\"lg\"></font-awesome-icon>\n                    Guardar y continuar\n                  </button>\n                </div>\n                <div class=\"col-3 text-center\">\n                  <button class=\"btn btn-primary\" type=\"button\" @click=\"cancel()\" style=\"background:#003e1e;border-color:#003e1e;\">\n                    <font-awesome-icon icon=\"times-circle\" size=\"lg\"></font-awesome-icon>\n                    Cancelar\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport Multiselect from 'vue-multiselect'\nimport Vuex from 'vuex'\nimport {axios} from '../../../helpers/axios';\nimport { required } from 'vuelidate/lib/validators'\nimport CreatePerson from '../../persons/CreatePersonModal.vue'\nimport CreateClause from '../../clauses/CreateClauseModal.vue'\nvar API_IP = process.env.VUE_APP_API_IP\n\nconst { mapActions, mapState ,mapGetters } = Vuex\n\nimport router from '../../../router'\n\nVue.use(Vuex)\nconst store = new Vuex.Store({\n  state:{\n    profesores:[],\n    contratistas:[],\n    planta:[],\n    interventorStore:{},\n    contratistaStore:{},\n    responsableStore:{},\n    valuex:\"\",\n    valuey:\"\",\n    allpersonas:[],\n    personasInterventor:[],\n    personasContratista:[],\n    personasResponsable:[],\n    personasInterventorOriginal:[],\n    personasContratistaOriginal:[],\n    personasResponsableOriginal:[],\n    clauses:[],\n    causals:[],\n    types_request:[],\n    request_data:{}\n  },\n  actions: {\n    loadData({commit}) {\n      axios.get(API_IP+\"/person/\").then(response => {\n        var personas=[]\n        for (var k in response.data.data){\n          var person = {}\n          person[\"_id\"] = response.data.data[k]._id;\n          person[\"nombre\"] = response.data.data[k].primer_nombre+\" \"+response.data.data[k].segundo_nombre+\" \"+response.data.data[k].primer_apellido+\" \"+response.data.data[k].segundo_apellido;\n          personas.push(person);\n        }\n        commit('loadPersonas',personas);\n        axios.get(API_IP+\"/person/\",{params:\"profesor\"}).then(response => {\n          var profesores=[]\n          for (var k in response.data.data){\n            var profesor = {}\n            profesor[\"_id\"] = response.data.data[k]._id;\n            profesor[\"nombre\"] = response.data.data[k].primer_nombre+\" \"+response.data.data[k].segundo_nombre+\" \"+response.data.data[k].primer_apellido+\" \"+response.data.data[k].segundo_apellido;\n            profesores.push(profesor);\n          }\n          commit('loadProfesores',profesores);\n          axios.get(API_IP+\"/person/\",{params:\"contratista\"}).then(response => {\n            var contratistas=[]\n            for (var k in response.data.data){\n              var contratista = {}\n              contratista[\"_id\"] = response.data.data[k]._id;\n              contratista[\"nombre\"] = response.data.data[k].primer_nombre+\" \"+response.data.data[k].segundo_nombre+\" \"+response.data.data[k].primer_apellido+\" \"+response.data.data[k].segundo_apellido;\n              contratistas.push(contratista);\n            }\n            commit('loadContratistas',contratistas);\n            axios.get(API_IP+\"/person/\",{params:\"planta\"}).then(response => {\n              var plantas=[]\n              for (var k in response.data.data){\n                var planta = {}\n                planta[\"_id\"] = response.data.data[k]._id;\n                planta[\"nombre\"] = response.data.data[k].primer_nombre+\" \"+response.data.data[k].segundo_nombre+\" \"+response.data.data[k].primer_apellido+\" \"+response.data.data[k].segundo_apellido;\n                plantas.push(planta);\n              }\n              commit('loadPlanta',plantas);\n              axios\n              .get(API_IP+\"/clause/\").then(response => {\n                var clauses=[]\n                for (var k in response.data.data){\n                  var clause = {}\n                  clause[\"_id\"] = response.data.data[k]._id;\n                  clause[\"nombre\"] = response.data.data[k].nombre\n                  clauses.push(clause);\n                }\n                axios\n                .get(API_IP+'/request/'+router.currentRoute.params.id)\n                .then(response => {\n                  let request_data=response.data.data\n                  for(var k in request_data.trabajadores){\n                    let trabajador={}\n                    if (request_data.trabajadores[k].tipo == \"Interventor\") {\n                      trabajador[\"_id\"] = request_data.trabajadores[k].persona._id\n                      trabajador[\"nombre\"] = request_data.trabajadores[k].persona.primer_nombre+\" \"+request_data.trabajadores[k].persona.segundo_nombre+\" \"+request_data.trabajadores[k].persona.primer_apellido+\" \"+request_data.trabajadores[k].persona.segundo_apellido\n                      commit('loadInterventor', trabajador)\n                    } else if(request_data.trabajadores[k].tipo == \"Contratista\"){\n                      trabajador[\"_id\"] = request_data.trabajadores[k].persona._id\n                      trabajador[\"nombre\"] = request_data.trabajadores[k].persona.primer_nombre+\" \"+request_data.trabajadores[k].persona.segundo_nombre+\" \"+request_data.trabajadores[k].persona.primer_apellido+\" \"+request_data.trabajadores[k].persona.segundo_apellido\n                      commit('loadContratista', trabajador)\n                    } else if (request_data.trabajadores[k].tipo == \"Responsable\"){\n                      trabajador[\"_id\"] = request_data.trabajadores[k].persona._id\n                      trabajador[\"nombre\"] = request_data.trabajadores[k].persona.primer_nombre+\" \"+request_data.trabajadores[k].persona.segundo_nombre+\" \"+request_data.trabajadores[k].persona.primer_apellido+\" \"+request_data.trabajadores[k].persona.segundo_apellido\n                      commit('loadResponsable', trabajador)\n                    }\n                  }\n                  commit('loadRequestData',response.data.data);\n                  commit('loadClauses',clauses);\n                  axios\n                  .get(API_IP+\"/causalSelection/\").then(response => {\n                    var causals=[]\n                    for (var k in response.data.data){\n                      var causal= {}\n                      causal[\"_id\"] = response.data.data[k]._id;\n                      causal[\"nombre\"] = response.data.data[k].nombre\n                      causals.push(causal);\n                    }\n                    commit('loadCausals',causals)\n                    axios\n                    .get(API_IP+\"/requesttype/\").then(response => {\n                      var types_request=[]\n                      for (var k in response.data.data){\n                        var type= {}\n                        type[\"_id\"] = response.data.data[k]._id;\n                        type[\"nombre\"] = response.data.data[k].nombre;\n                        types_request.push(type);\n                      }\n                      commit('loadTypesRequest',types_request)\n                    })\n                  })\n                })\n              })\n            })\n          })\n        })\n      })\n    },\n    updateValueXAction({commit},valuex){\n      commit('updateValuex',valuex)\n    },\n    updateValueYAction({commit},valuey){\n      commit('updateValuey',valuey)\n    },\n    updatePersonasInterventorAction({commit},interventorStore){\n      commit('updatePersonasInterventor',interventorStore)\n    },\n    updatePersonasContratistaAction({commit},contratistaStore){\n      commit('updatePersonasContratista',contratistaStore)\n    },\n    updatePersonasResponsableAction({commit},responsableStore){\n      commit('updatePersonasCargo',responsableStore)\n    }\n  },\n  getters:{\n    getRequestData: (state) => {\n      return state.request_data\n    }\n  },\n  mutations:{\n    loadInterventor(state,interventor){\n      state.interventorStore=interventor\n    },\n    loadContratista(state,contratista){\n      state.contratistaStore=contratista\n    },\n    loadResponsable(state,responsable){\n      state.responsableStore=responsable\n    },\n    loadProfesores(state,profesores){\n      state.profesores=profesores\n    },\n    loadContratistas(state,contratistas){\n      state.contratistas=contratistas\n    },\n    loadPlanta(state,planta){\n      state.planta=planta\n      state.personasInterventorOriginal=state.profesores.concat(state.contratistas).concat(state.planta);\n      state.personasContratistaOriginal=state.contratistas;\n      state.personasResponsableOriginal=state.profesores.concat(state.contratistas).concat(state.planta);\n      state.personasInterventor=state.profesores.concat(state.contratistas).concat(state.planta);\n      state.personasContratista=state.contratistas;\n      state.personasResponsable=state.profesores.concat(state.contratistas).concat(state.planta);\n    },\n    loadClauses(state,clauses){\n      state.clauses=clauses;\n    },\n    loadCausals(state,causals){\n      state.causals=causals;\n    },\n    loadRequestData(state,request_data){\n      state.request_data=request_data\n    },\n    loadTypesRequest(state,types_request){\n      state.types_request=types_request;\n    },\n    loadPersonas(state,personas){\n      state.allpersonas=personas;\n      state.personasInterventor=personas;\n      state.personasContratista=personas;\n    },\n    updatePersonasInterventor(state,interventorStore){\n      state.interventorStore=((interventorStore != null) ? interventorStore : \"\")\n      state.personasInterventor=state.personasInterventorOriginal.filter(person=> (person._id!=state.contratistaStore._id && person._id!=state.responsableStore._id));\n      state.personasContratista=state.personasContratistaOriginal.filter(person=> (person._id!=state.interventorStore._id && person._id!=state.responsableStore._id));\n      state.personasResponsable=state.personasResponsableOriginal.filter(person=> (person._id!=state.interventorStore._id && person._id!=state.contratistaStore._id));\n    },\n    updatePersonasContratista(state,contratistaStore){\n      state.contratistaStore=((contratistaStore != null) ? contratistaStore : \"\")\n      state.personasInterventor=state.personasInterventorOriginal.filter(person=> (person._id!=state.contratistaStore._id && person._id!=state.responsableStore._id));\n      state.personasContratista=state.personasContratistaOriginal.filter(person=> (person._id!=state.interventorStore._id && person._id!=state.responsableStore._id));\n      state.personasResponsable=state.personasResponsableOriginal.filter(person=> (person._id!=state.interventorStore._id && person._id!=state.contratistaStore._id));\n    },\n    updatePersonasCargo(state,responsableStore){\n      state.responsableStore=((responsableStore != null) ? responsableStore : \"\")\n      state.personasInterventor=state.personasInterventorOriginal.filter(person=> (person._id!=state.contratistaStore._id && person._id!=state.responsableStore._id));\n      state.personasContratista=state.personasContratistaOriginal.filter(person=> (person._id!=state.interventorStore._id && person._id!=state.responsableStore._id));\n      state.personasResponsable=state.personasResponsableOriginal.filter(person=> (person._id!=state.interventorStore._id && person._id!=state.contratistaStore._id));\n    }\n  }\n})\nexport default {\n  props: ['stp'],\n  store,\n  components: {\n    Multiselect,\n    'create-person': CreatePerson,\n    'create-clause': CreateClause\n  },\n  data () {\n    return {\n      interventoresSelect:\"\",\n      contratistasSelect:\"\",\n      interventor:{},\n      contratista:{},\n      person_charge:{},\n      start_request_date:\"\",\n      end_request_date:\"\",\n      total_days:\"\",\n      causal: {},\n      clausulas: [],\n      clausulas_request:[],\n      message:\"\",\n      tipo_solicitud:\"\",\n      trabajadores:[],\n      step: this.stp,\n      modal_show: false,\n      submitting: false,\n      correct_date: false\n    }\n  },\n  validations: {\n    tipo_solicitud:{required}, interventor:{required}, contratista:{required}, clausulas:{required},\n    start_request_date:{required}, end_request_date:{required},\n    causal:{required}\n  },\n  computed:{\n    ...mapGetters(['getRequestData']),\n    ...mapState(['personasInterventorOriginal','personasContratistaOriginal','personasResponsableOriginal','allpersonas','personasInterventor','valuex','valuey','contratistaStore','interventorStore','personasContratista','clauses','causals','types_request','personasResponsable','responsableStore','request_data'])\n  },\n  watch: {\n    interventorStore(){\n      this.interventor=this.$store.state.interventorStore\n      this.$store.dispatch('updatePersonasInterventorAction',this.interventor)\n    },\n    contratistaStore(){\n      // this.$store.dispatch('updatePersonasInterventorAction',this.interventor)\n      this.contratista=this.$store.state.contratistaStore\n    },\n    responsableStore(){\n      // this.$store.dispatch('updatePersonasInterventorAction',this.interventor)\n      this.person_charge=this.$store.state.responsableStore\n    },\n    getRequestData(requestData){\n      this.tipo_solicitud = requestData.tipo_solicitud\n      this.start_request_date= requestData.fecha_inicio.substring(0,10)\n      this.end_request_date = requestData.fecha_final.substring(0,10)\n      // Funcion para calcular el total de dias\n      var sd=new Date(this.start_request_date);\n      var ed=new Date(this.end_request_date);\n      sd.setDate(sd.getDate()+1)\n      ed.setDate(ed.getDate()+1)\n      var differentDays = Math.ceil(Math.abs( ed.getTime() - sd.getTime()) / (1000 * 3600 * 24));\n      this.total_days=differentDays+1;\n      this.causal= requestData.causal_seleccion\n      this.clausulas = requestData.clausulas\n      // Parametros usados en el padre\n      this.request_id = requestData._id\n      this.request_url = \"/solicitudes/\"+requestData.tipo_solicitud.nombre.toLowerCase()+\"/\"+requestData._id\n      this.request_type_url = \"/solicitudes/\"+requestData.tipo_solicitud.nombre.toLowerCase()\n      this.request_type = requestData.tipo_solicitud.nombre\n      this.$emit('request_id', this.request_id)\n      this.$emit('request_url', this.request_url)\n      this.$emit('request_type', this.request_type)\n      this.$emit('request_type_url', this.request_type_url)\n      // Parametros necesarios para el update genera\n      this.request_auditoria = requestData.auditoria\n      this.request_state = requestData.estado\n      this.request_number = requestData.numero_solicitud\n      this.request_value = requestData.valor_solicitud\n      this.$emit('request_value', this.request_value)\n      // if(requestData.ciudad._id !== undefined && requestData.ciudad._id !== null){\n      //   this.request_city = requestData.ciudad._id\n      // }\n      this.request_justification = requestData.justificacion\n      this.request_aditional_justification = requestData.justificacion_adicional\n      this.request_objetivo = requestData.objetivo_general\n      this.request_obligations = requestData.obligaciones_especificas\n      this.request_especifications = requestData.especificaciones_tecnicas\n      this.request_budget = requestData.rubros\n      this.payment_amount = requestData.cantidad_pagos\n      this.payment_type = requestData.tipo_pago\n    }\n  },\n  methods:{\n    ...mapActions(['getPersonas','updatePersonasInterventorAction','updatePersonasContratistaAction','updatePersonasResponsableAction']),\n    changeEndRequestDate(){\n      var sd=new Date(this.start_request_date);\n      var ed=new Date(this.end_request_date);\n      if (sd > ed) {\n        this.correct_date = true\n        this.total_days=0;\n      } else {\n        this.correct_date = false\n        sd.setDate(sd.getDate()+1)\n        ed.setDate(ed.getDate()+1)\n        var differentDays = Math.ceil(Math.abs( ed.getTime() - sd.getTime()) / (1000 * 3600 * 24));\n        this.total_days=differentDays+1;\n      }\n      this.changeTotalDays();\n    },\n    cancel(){\n      this.$v.$reset()\n      this.$swal({\n        title: 'Espere',\n        text: '¿Esta seguro que quiere cancelar la operación?',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Si',\n        cancelButtonText: 'No',\n      }).then((result) => {\n        if (result.value) {\n          this.$swal({\n            title: 'Cancelado',\n            type: 'success'\n          }).then((result) => {\n            if (result.value) {\n              this.$router.push({ name: 'showrequest', params: { type: this.request_type.toLowerCase() ,id: this.request_id } });\n            }\n          });\n        }\n      });\n    },\n    saveContinue(){\n      this.$v.$touch()\n      if (this.$v.$invalid) {\n        this.$swal({\n          title: 'Error!',\n          text: 'Debe llenar campos necesarios en el formulario',\n          type: 'error',\n          confirmButtonText: 'Cerrar'\n        });\n      } else {\n        this.submitting = true\n        for(var k in this.clausulas){\n          this.clausulas_request.push(this.clausulas[k]._id)\n        }\n        axios\n        .put(API_IP+'/request/'+this.$route.params.id, {\n          // Parametros enviados por esta vista\n          tipo_solicitud: this.tipo_solicitud._id,\n          trabajadores: [\n            {\n              persona:this.contratista._id,tipo:\"Contratista\"\n            },\n            {\n              persona:this.interventor._id,tipo:\"Interventor\"\n            },\n            {\n              persona:this.person_charge._id,tipo:\"Responsable\"\n            }\n          ],\n          fecha_inicio:this.start_request_date,\n          fecha_final: this.end_request_date,\n          causal_seleccion:this.causal._id,\n          clausulas:this.clausulas_request,\n          // Parametros enviados para completar el update\n          auditoria: this.request_auditoria,\n          _id: this.request_id,\n          estado:this.request_state,\n          numero_solicitud: this.request_number,\n          valor_solicitud:this.request_value,\n          ciudad: this.request_city,\n          justificacion:this.request_justification,\n          justificacion_adicional:this.request_aditional_justification,\n          objetivo_general:this.request_objetivo,\n          especificaciones_tecnicas:this.request_especifications,\n          obligaciones_especificas:this.request_obligations,\n          rubros:this.request_budget,\n          cantidad_pagos: this.payment_amount,\n          tipo_pago: this.payment_type\n        })\n        .then(response => {\n          console.log(response);\n          this.$swal({\n            title: 'Exito!',\n            text: 'Se creo la solicitud con exito.',\n            type: 'success',\n            confirmButtonText: 'Aceptar'\n          }).then((result) => {\n            if (result.value) {\n              this.submitting = false;\n              this.step++\n              this.$emit('nextStep', this.step)\n            }\n          });\n        })\n        .catch(error => {\n          console.log(error);\n          this.$swal({\n            title: 'Error!',\n            text: error.response.data.error.msg,\n            type: 'error',\n            confirmButtonText: 'Cerrar'\n          });\n          this.submitting = false;\n        });\n      }\n    },\n    // Modal para la creación de personas\n    showModalCreatePerson () {\n      this.modal_show = false;\n      this.$modal.show('create-person');\n    },\n    closeModalCreatePerson (value) {\n      this.modal_show = value;\n      if(this.modal_show === true){\n        this.$modal.hide('create-person');\n      }\n    },\n    showModalCreateClause () {\n      this.modal_show = false;\n      this.$modal.show('create-clause');\n    },\n    closeModalCreateClause (value) {\n      this.modal_show = value;\n      if(this.modal_show === true){\n        this.$modal.hide('create-clause');\n      }\n    }\n  },\n  created(){\n    this.$store.dispatch('loadData')\n  }\n}\n</script>\n"],"sourceRoot":"src/components/requests/update"}]}