{"remainingRequest":"/home/stevenbustos/Downloads/SIUA/frontend/node_modules/babel-loader/lib/index.js!/home/stevenbustos/Downloads/SIUA/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/stevenbustos/Downloads/SIUA/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/stevenbustos/Downloads/SIUA/frontend/src/components/requests/Requests.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/stevenbustos/Downloads/SIUA/frontend/src/components/requests/Requests.vue","mtime":1548717253000},{"path":"/home/stevenbustos/Downloads/SIUA/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stevenbustos/Downloads/SIUA/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/stevenbustos/Downloads/SIUA/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stevenbustos/Downloads/SIUA/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/stevenbustos/Downloads/SIUA/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { axios, verifyPermits, requestModulePermit } from '../../helpers/axios';\nvar API_IP = process.env.VUE_APP_API_IP;\nvar headersDic = {};\nheadersDic[process.env.VUE_APP_KEY_HEADER_NAME] = process.env.VUE_APP_KEY_HEADER_CONTENT;\nheadersDic[process.env.VUE_APP_TOKEN_HEADER_NAME] = \"\";\nheadersDic[process.env.VUE_APP_MODULE_HEADER_NAME] = 8;\nexport default {\n  data: function data() {\n    return {\n      tiposSolicitud: [],\n      permitAll: [0, 1, 2, 3, 4],\n      permitSolicitudes: [],\n      permitODS: [],\n      permitODC: [],\n      permitATI: [],\n      odss: [],\n      odcs: [],\n      atis: []\n    };\n  },\n  mounted: function mounted() {\n    this.verifyAllPermits();\n  },\n  methods: {\n    loadRequest: function () {\n      var _loadRequest = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(id, type) {\n        var tmp, k, request;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(type == \"ODS\")) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 3;\n                return requestModulePermit(9, 0, {\n                  tipo_solicitud: id\n                });\n\n              case 3:\n                tmp = _context.sent;\n\n                for (k in tmp) {\n                  request = {};\n                  request[\"id\"] = tmp[k]._id;\n                  request[\"type\"] = tmp[k].tipo_solicitud.nombre;\n                  request[\"value\"] = tmp[k].valor_solicitud;\n                  request[\"state\"] = tmp[k].estado;\n                  request[\"url\"] = \"/solicitudes/\" + tmp[k].tipo_solicitud.nombre.toLowerCase() + \"/\" + tmp[k]._id;\n                  this.odss.push(request);\n                }\n\n                _context.next = 19;\n                break;\n\n              case 7:\n                if (!(type == \"ODC\")) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.next = 10;\n                return requestModulePermit(10, 0, {\n                  tipo_solicitud: id\n                });\n\n              case 10:\n                tmp = _context.sent;\n\n                for (k in tmp) {\n                  request = {};\n                  request[\"id\"] = tmp[k]._id;\n                  request[\"type\"] = tmp[k].tipo_solicitud.nombre;\n                  request[\"value\"] = tmp[k].valor_solicitud;\n                  request[\"state\"] = tmp[k].estado;\n                  request[\"url\"] = \"/solicitudes/\" + tmp[k].tipo_solicitud.nombre.toLowerCase() + \"/\" + tmp[k]._id;\n                  this.odcs.push(request);\n                }\n\n                _context.next = 19;\n                break;\n\n              case 14:\n                if (!(type == \"ATI\")) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.next = 17;\n                return requestModulePermit(11, 0, {\n                  tipo_solicitud: id\n                });\n\n              case 17:\n                tmp = _context.sent;\n\n                for (k in tmp) {\n                  request = {};\n                  request[\"id\"] = tmp[k]._id;\n                  request[\"type\"] = tmp[k].tipo_solicitud.nombre;\n                  request[\"value\"] = tmp[k].valor_solicitud;\n                  request[\"state\"] = tmp[k].estado;\n                  request[\"url\"] = \"/solicitudes/\" + tmp[k].tipo_solicitud.nombre.toLowerCase() + \"/\" + tmp[k]._id;\n                  this.atis.push(request);\n                }\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function loadRequest(_x, _x2) {\n        return _loadRequest.apply(this, arguments);\n      }\n\n      return loadRequest;\n    }(),\n    create: function create() {\n      this.$router.push({\n        name: 'createrequest'\n      });\n    },\n    verifyAllPermits: function () {\n      var _verifyAllPermits = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var k;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return verifyPermits(8, this.permitAll);\n\n              case 2:\n                this.permitSolicitudes = _context2.sent;\n                _context2.next = 5;\n                return verifyPermits(9, this.permitAll);\n\n              case 5:\n                this.permitODS = _context2.sent;\n                _context2.next = 8;\n                return verifyPermits(10, this.permitAll);\n\n              case 8:\n                this.permitODC = _context2.sent;\n                _context2.next = 11;\n                return verifyPermits(11, this.permitAll);\n\n              case 11:\n                this.permitATI = _context2.sent;\n\n                if (!(this.permitSolicitudes.valid == -1)) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                _context2.next = 28;\n                break;\n\n              case 15:\n                if (this.permitSolicitudes[0]) {\n                  _context2.next = 18;\n                  break;\n                }\n\n                _context2.next = 28;\n                break;\n\n              case 18:\n                _context2.next = 20;\n                return requestModulePermit(205, 0);\n\n              case 20:\n                this.tiposSolicitud = _context2.sent;\n                _context2.t0 = regeneratorRuntime.keys(this.tiposSolicitud);\n\n              case 22:\n                if ((_context2.t1 = _context2.t0()).done) {\n                  _context2.next = 28;\n                  break;\n                }\n\n                k = _context2.t1.value;\n                _context2.next = 26;\n                return this.loadRequest(this.tiposSolicitud[k]._id, this.tiposSolicitud[k].nombre);\n\n              case 26:\n                _context2.next = 22;\n                break;\n\n              case 28:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function verifyAllPermits() {\n        return _verifyAllPermits.apply(this, arguments);\n      }\n\n      return verifyAllPermits;\n    }()\n  }\n};",{"version":3,"sources":["Requests.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div v-if=\"!permitSolicitudes\">\n      <p>No tiene permiso</p>\n    </div>\n    <div v-if=\"permitSolicitudes[0]\" style=\"margin:40px;background-color:rgba(255, 255, 255, 0.7);\">\n      <div class=\"row\">\n        <nav aria-label=\"breadcrumb\">\n          <ol class=\"breadcrumb\">\n            <li class=\"breadcrumb-item\"><a href=\"/\">Home</a></li>\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">Solicitudes</li>\n          </ol>\n        </nav>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-8 offset-md-2\" style=\"margin-bottom:80px;\">\n          <div class=\"row\">\n            <div class=\"col\">\n              <button onclick=\"window.history.back();\" class=\"btn btn-primary\" style=\"background:#003e1e;border-color:#003e1e;\">\n                <font-awesome-icon icon=\"arrow-left\" size=\"lg\"></font-awesome-icon>\n              </button>\n            </div>\n            <div class=\"col-auto\">\n              <button v-if=\"permitODS[2] || permitODC[2] || permitATI[2]\" type=\"button\" class=\"btn btn-primary\" style=\"background:#003e1e;border-color:#003e1e;\" @click=\"create()\">\n                <font-awesome-icon icon=\"pencil-alt\" size=\"lg\"></font-awesome-icon>\n                Crear\n              </button>\n            </div>\n          </div>\n          <div>&nbsp;</div>\n\n          <div v-if=\"permitODS[0]\">\n            <div class=\"row\">\n              <div class=\"col-auto mr-auto\">\n                <h2 style=\"color:#003e1e\">\n                  ODS\n                </h2>\n              </div>\n              <!-- TODO Hacer con props-->\n              <!-- <div class=\"col-auto\">\n                <button type=\"button\" class=\"btn btn-primary\" style=\"background:#003e1e;border-color:#003e1e;\" @click=\"create()\">\n                  <font-awesome-icon icon=\"pencil-alt\" size=\"lg\"></font-awesome-icon>\n                  Crear\n                </button>\n              </div> -->\n            </div>\n            <br>\n            <div class=\"row\">\n              <div class=\"col\">\n                <table class=\"table table-striped\" style=\"text-align:center;background-color:#dddddd;\">\n                  <thead style=\"background-color: #003e1e; color:white;\">\n                    <tr>\n                      <th v-if=\"permitODS[1]\" scope=\"col\">Acción</th>\n                      <th scope=\"col\">Tipo de solicitud</th>\n                      <th scope=\"col\">Valor</th>\n                      <th scope=\"col\">Estado</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr class=\"clickable-row\" v-for='(ods, index) in odss' :key='index'>\n                      <td v-if=\"permitODS[1]\"><a v-bind:href=\"ods.url\"><font-awesome-icon icon=\"eye\" size=\"lg\"></font-awesome-icon></a></td>\n                      <td>{{ods.type}}</td>\n                      <td>{{ods.value}}</td>\n                      <td>{{ods.state}}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n\n          <div>&nbsp;</div>\n          <div>&nbsp;</div>\n\n          <div v-if=\"permitODC[0]\">\n            <div class=\"row\">\n              <div class=\"col-auto mr-auto\">\n                <h2 style=\"color:#003e1e\">\n                  ODC\n                </h2>\n              </div>\n              <!-- <div class=\"col-auto\">\n                <button type=\"button\" class=\"btn btn-primary\" style=\"background:#003e1e;border-color:#003e1e;\" @click=\"create()\">\n                  <font-awesome-icon icon=\"pencil-alt\" size=\"lg\"></font-awesome-icon>\n                  Crear\n                </button>\n              </div> -->\n            </div>\n            <br>\n            <div class=\"row\">\n              <div class=\"col\">\n                <table class=\"table table-striped\" style=\"text-align:center;background-color:#dddddd;\">\n                  <thead style=\"background-color: #003e1e; color:white;\">\n                    <tr>\n                      <th v-if=\"permitODC[1]\" scope=\"col\">Acción</th>\n                      <th scope=\"col\">Tipo de solicitud</th>\n                      <th scope=\"col\">Valor</th>\n                      <th scope=\"col\">Estado</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr class=\"clickable-row\" v-for='(odc, index) in odcs' :key='index'>\n                      <td v-if=\"permitODC[1]\"><a v-bind:href=\"odc.url\"><font-awesome-icon icon=\"eye\" size=\"lg\"></font-awesome-icon></a></td>\n                      <td>{{odc.type}}</td>\n                      <td>{{odc.value}}</td>\n                      <td>{{odc.state}}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n\n          <div>&nbsp;</div>\n          <div>&nbsp;</div>\n\n          <div v-if=\"permitATI[0]\">\n            <div class=\"row\">\n              <div class=\"col-auto mr-auto\">\n                <h2 style=\"color:#003e1e\">\n                  ATI\n                </h2>\n              </div>\n              <div class=\"col-auto\">\n                <button type=\"button\" class=\"btn btn-primary\" style=\"background:#003e1e;border-color:#003e1e;\" @click=\"create()\">\n                  <font-awesome-icon icon=\"pencil-alt\" size=\"lg\"></font-awesome-icon>\n                  Crear\n                </button>\n              </div>\n            </div>\n            <br>\n            <div class=\"row\">\n              <div class=\"col\">\n                <table class=\"table table-striped\" style=\"text-align:center;background-color:#dddddd;\">\n                  <thead style=\"background-color: #003e1e; color:white;\">\n                    <tr>\n                      <th scope=\"col\">Acción</th>\n                      <th scope=\"col\">Tipo de solicitud</th>\n                      <th scope=\"col\">Valor</th>\n                      <th scope=\"col\">Estado</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    <tr class=\"clickable-row\" v-for='(ati, index) in atis' :key='index'>\n                      <td><a v-bind:href=\"ati.url\"><font-awesome-icon icon=\"eye\" size=\"lg\"></font-awesome-icon></a></td>\n                      <td>{{ati.type}}</td>\n                      <td>{{ati.value}}</td>\n                      <td>{{ati.state}}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {axios,verifyPermits,requestModulePermit} from '../../helpers/axios';\nvar API_IP = process.env.VUE_APP_API_IP\n\nvar headersDic = {};\nheadersDic[process.env.VUE_APP_KEY_HEADER_NAME] = process.env.VUE_APP_KEY_HEADER_CONTENT;\nheadersDic[process.env.VUE_APP_TOKEN_HEADER_NAME] = \"\";\nheadersDic[process.env.VUE_APP_MODULE_HEADER_NAME] = 8;\n\nexport default {\n  data () {\n    return {\n      tiposSolicitud:[],\n      permitAll:[0,1,2,3,4],\n      permitSolicitudes:[],\n      permitODS:[],\n      permitODC:[],\n      permitATI:[],\n      odss: [],\n      odcs: [],\n      atis: []\n    }\n  },\n  mounted () {\n    this.verifyAllPermits()\n  },\n  methods: {\n    async loadRequest(id,type){\n      let tmp;\n      if (type == \"ODS\") {\n        tmp=await requestModulePermit(9,0,{tipo_solicitud:id})\n        for(var k in tmp){\n            var request = {}\n            request[\"id\"] = tmp[k]._id\n            request[\"type\"] = tmp[k].tipo_solicitud.nombre\n            request[\"value\"] = tmp[k].valor_solicitud\n            request[\"state\"] = tmp[k].estado\n            request[\"url\"] = \"/solicitudes/\"+tmp[k].tipo_solicitud.nombre.toLowerCase()+\"/\"+tmp[k]._id;\n            this.odss.push(request);\n          }\n      }\n      else if (type == \"ODC\") {\n        tmp=await requestModulePermit(10,0,{tipo_solicitud:id})\n        for(var k in tmp){\n            var request = {}\n            request[\"id\"] = tmp[k]._id\n            request[\"type\"] = tmp[k].tipo_solicitud.nombre\n            request[\"value\"] = tmp[k].valor_solicitud\n            request[\"state\"] = tmp[k].estado\n            request[\"url\"] = \"/solicitudes/\"+tmp[k].tipo_solicitud.nombre.toLowerCase()+\"/\"+tmp[k]._id;\n            this.odcs.push(request);\n          }\n\n      }\n      else if (type == \"ATI\") {\n        tmp=await requestModulePermit(11,0,{tipo_solicitud:id})\n        for(var k in tmp){\n            var request = {}\n            request[\"id\"] = tmp[k]._id\n            request[\"type\"] = tmp[k].tipo_solicitud.nombre\n            request[\"value\"] = tmp[k].valor_solicitud\n            request[\"state\"] = tmp[k].estado\n            request[\"url\"] = \"/solicitudes/\"+tmp[k].tipo_solicitud.nombre.toLowerCase()+\"/\"+tmp[k]._id;\n            this.atis.push(request);\n          }\n      }\n    },\n    create(){\n      this.$router.push({ name: 'createrequest'});\n    },\n    async verifyAllPermits(){\n      this.permitSolicitudes = await verifyPermits(8,this.permitAll)\n      this.permitODS=await verifyPermits(9,this.permitAll)\n      this.permitODC=await verifyPermits(10,this.permitAll)\n      this.permitATI=await verifyPermits(11,this.permitAll)\n\n\n      if (this.permitSolicitudes.valid == -1) {\n        // alert(\"SESION CADUCO\")\n      }\n      else if(!this.permitSolicitudes[0]) {\n        // alert(\"NO TIENE PERMISO\")\n      }\n      else {\n        this.tiposSolicitud=await requestModulePermit(205,0)\n        for(var k in this.tiposSolicitud){\n          await this.loadRequest(this.tiposSolicitud[k]._id,this.tiposSolicitud[k].nombre)\n        }\n      }\n\n\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/requests"}]}